#!/bin/sh
#
#  This script creates the BBS.lisp.info package file.  It contains
#  constants for the compile time and date.  For each release, update
#  the version string and version number here.
#
cat <<EOF > src/bbs-lisp-info.ads
package BBS.lisp.info is
   --
   --  This file is auto generated by the pre-commit hook as well as
   --  the test coverage script.  It should not be edited by hand.
   --
   name           : constant String  := "Tiny Lisp";
   timestamp      : constant String  := "`date`";
   build_date     : constant String  := "`date +"%Y-%b-%d"` (`git rev-parse --abbrev-ref HEAD`)";
   version_string : constant String  := "V00.04+";
   version_date   : constant Integer := `date +"%Y%m%d"`;  -- yyyymmdd
   version_number : constant Integer := 2;
end;
EOF
